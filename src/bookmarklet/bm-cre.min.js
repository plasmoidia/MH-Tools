!function(){function e(e,r){return e.indexOf(r)>-1}if(location.href.indexOf("mousehuntgame.com")<0)alert("You are not on mousehuntgame.com! Please try again.");else if(user){var r,t=user.environment_name,n=user.base_name,a={};a.location=t,a.weapon=user.weapon_name,a.base=n,a.charm=user.trinket_name,a.tourney=function(){if(null!==document.querySelector("div.tournamentStatusHud")){var e=user.viewing_atts.tournament;if("active"===e.status||"pending"===e.status)return e.name}}(),a.rank=(r=user.title_name).indexOf("Archduke")>=0||r.indexOf("Archduchess")>=0?"archduke":r.indexOf("Grand Duke")>=0||r.indexOf("Grand Duchess")>=0?"grandduke":r.indexOf("Duke")>=0||r.indexOf("Duchess")>=0?"duke":r.indexOf("Count")>=0||r.indexOf("Countess")>=0?"count":r.indexOf("Baron")>=0||r.indexOf("Baroness")>=0?"baron":r.indexOf("Lord")>=0||r.indexOf("Lady")>=0?"lord":r.indexOf("Journeyman")>=0||r.indexOf("Journeywoman")>=0?"journeyman":r.toLowerCase(),user.has_shield||(a.gs="No"),a.power_bonus=Math.round(100*user.trap_power_bonus);var i=document.querySelector(".campPage-trap-trapStat.luck > .value");a.total_luck=i&&i.textContent?Number(i.textContent):user.trap_luck;var s=user.bait_name,u=function(r,t){var n=user.quests,i=user.viewing_atts;if("Balack's Cove"===r){var u=i.tide;if("low"===u)return"Low Tide";if("med"===u)return"Medium Tide";if("high"===u)return"High Tide"}else{if("Burroughs Rift"===r){var o=n.QuestRiftBurroughs.mist_tier;return"Undead String Emmental"===s?s:{tier_0:"Mist Level 0",tier_1:"Mist Level 1-5",tier_2:"Mist Level 6-18",tier_3:"Mist Level 19-20"}[o]}if("Fiery Warpath"===r){var l=i.desert_warpath.wave;return"portal"===l?"Portal":"Wave "+l}if("Fort Rox"===r){var c=n.QuestFortRox,d=c.current_phase;return"day"===d?"Day":"dawn"===d?"Dawn":"night"===d?{stage_one:"Twilight",stage_two:"Midnight",stage_three:"Pitch",stage_four:"Utter Darkness",stage_five:"First Light"}[O=c.current_stage]:"lair"===d?"Portal":d}if("Gnawnian Express Station"===r){if(n.QuestTrainStation.on_train){var h=i.tournament.minigame,f=h.name;if("Supply Depot"===f){var g=h.supply_hoarder_turns;if(g>0)return"Supply Depot (Supply Rush)";if(0===g)return"Supply Depot (No Supply Rush)"}else if("Raider River"===f||"Daredevil Canyon"===f)return f}}else{if("Iceberg"===r){var m=n.QuestIceberg.current_phase;return"General"===m?"Generals":"Treacherous Tunnels"!==m&&"The Mad Depths"!==m||"Magnet Base"!==t?"The Mad Depths"===m&&"Hearthstone Base"===t?m+" (Hearthstone)":"Bombing Run"===m&&"Remote Detonator Base"===t?m+" (Remote Detonator)":"Treacherous Tunnels"!==m&&"Bombing Run"!==m&&"The Mad Depths"!==m||"Ultimate Iceberg Base"!==t?m:m+" (Ultimate Iceberg)":m+" (Magnet)"}if("Labyrinth"===r){var _=n.QuestLabyrinth.hallway_name;return e(_,"Short")?_=_.slice(6,_.length):e(_,"Medium")?_=_.slice(7,_.length):e(_,"Long")&&(_=_.slice(5,_.length)),_=_.slice(0,_.indexOf(" Hallway"))}if("Living Garden"===r){if("dumped"===n.QuestLivingGarden.minigame.bucket_state)return"Poured"}else if("Moussu Picchu"===r){var p=n.QuestMoussuPicchu.elements,v=p.storm.level;switch(v){case"high":v="max";break;case"medium":v="high";break;case"low":p.rain.percent>=35&&p.wind.percent>=35&&(v="medium")}if("none"!==v)return"Storm "+v;if("up"===p.rain.direction)return"Rain "+p.rain.level;if("up"===p.wind.direction)return"Wind "+p.wind.level}else if("Twisted Garden"===r){if("dumped"===n.QuestLivingGarden.minigame.vials_state)return"Poured"}else if("Lost City"===r){if(1===n.QuestLostCity.minigame.is_cursed)return"Cursed"}else if("Cursed City"===r){if(n.QuestLostCity.minigame.is_cursed)return"Cursed"}else if("Sand Dunes"===r){if(n.QuestSandDunes.minigame.has_stampede)return"Stampede"}else{if("Seasonal Garden"===r)return{fl:"Fall",wr:"Winter",sg:"Spring",sr:"Summer"}[i.season];if("Sunken City"===r)return"Sunken City"===(m=n.QuestSunkenCity.zone_name)&&(m="Docked"),m;if("Toxic Spill"===r){var y=n.QuestPollutionOutbreak.titles,w={archduke_archduchess:"Archduke/Archduchess",grand_duke:"Grand Duke/Grand Duchess",duke_dutchess:"Duke/Duchess",count_countess:"Count/Countess",baron_baroness:"Baron/Baroness",lord_lady:"Lord/Lady",hero:"Hero",knight:"Knight"};for(var b in y)y.hasOwnProperty(b)&&y[b].active&&(m=w[b]);return m}if("Whisker Woods Rift"===r){var S=n.QuestRiftWhiskerWoods.zones,k="";return k=(k=(k=(k+=S.clearing.status+"/"+S.tree.status+"/"+S.lagoon.status).replace(/low/g,"Low")).replace(/high/g,"Medium")).replace(/boss/g,"High")}if("Zokor"===r){var x=n.QuestAncientCity,Q=x.district_name,C=x.clue_name,R=x.district_tier;return e(Q,"Minotaur")?"Lair of the Minotaur":{Tech:["Tech Foundry Outskirts","Tech Research Center","Manaforge"],Scholar:["Neophyte Scholar Study","Master Scholar Auditorium","Dark Library"],Fealty:["Outer Fealty Shrine","Inner Fealty Temple","Templar's Sanctum"],Treasury:["Treasure Room","Treasure Vault"],Farming:["Farming Garden","Overgrown Farmhouse"]}[C][R-1]}if("Furoma Rift"===r)return n.QuestRiftFuroma.droid.charge_level?"Pagoda":"Training Grounds";var O;if("Bristle Woods Rift"===r)return(O=[]).push(n.QuestRiftBristleWoods.chamber_name),"active"===n.QuestRiftBristleWoods.status_effects.ng&&O.push("(Paladin's Bane)"),"active"===n.QuestRiftBristleWoods.status_effects.st&&O.push("(Pursued)"),O.join(" ");if("Zugzwang's Tower"===r){var T=i.zzt_mage_progress,F=i.zzt_tech_progress;if(T>=F){if(T>=0&&T<8)return"Mystic Pawn Pincher";if(T>=8&&T<10)return"Mystic Knights";if(T>=10&&T<12)return"Mystic Bishops";if(T>=12&&T<14)return"Mystic Rooks";if(14===T)return"Mystic Queen";if(15===T)return"Mystic King";if(T>=16)return"Chess Master"}else{if(F>=0&&F<8)return"Technic Pawn Pincher";if(F>=8&&F<10)return"Technic Knights";if(F>=10&&F<12)return"Technic Bishops";if(F>=12&&F<14)return"Technic Rooks";if(14===F)return"Technic Queen";if(15===F)return"Technic King";if(F>=16)return"Chess Master"}}else if("Claw Shot City"===r){var M=n.QuestClawShotCity.map_active,L=n.QuestClawShotCity.has_wanted_poster;if(!M)return"No Wanted Poster Open";if(M&&!L)return"Crew"}else{if("Mousoleum"===r)return n.QuestMousoleum.has_wall?"Has Wall":"No Wall";if("Queso Geyser"===r){var B=n.QuestQuesoGeyser.state;if("collecting"===B)return"Cork Collecting";if("corked"===B)return"Pressure Building";if("eruption"===B)return n.QuestQuesoGeyser.state_name}else{if("Forbidden Grove"===r)return user.viewing_atts.grove_open?"Open":"Closed";if("Harbour"===r)return"searchStarted"!==n.QuestHarbour.status||n.QuestHarbour.can_claim?"No Bounty":"On Bounty";if("Valour Rift"===r){if("farming"===n.QuestRiftValour.state)return"Outside";if("tower"===n.QuestRiftValour.state){var D=n.QuestRiftValour.floor_type;a.vrFloorType=D>=1&&D<=7?D-1:0;var G=n.QuestRiftValour.floor||1,P=n.QuestRiftValour.is_eclipse_mode?"Umbra ":"";return G%8==0?P+="Eclipse":G<=7?P+="Floors 1-7":G<=15?P+="Floors 9-15":G<=23?P+="Floors 17-23":G>=25&&(P+="Floors 25-31+"),P}}else if("Floating Islands"===r){var H=n.QuestFloatingIslands.hunting_site_atts;return H.enemy&&(H.enemy.name.indexOf("Warden")>=0||H.enemy.name.indexOf("Paragon")>=0)&&H.is_enemy_encounter?H.is_high_altitude?"Sky Paragons":"Sky Wardens":H.island_name}}}}}}return"N/A"}(t,n);if(function(e,r,t){var n=user.quests;if("Furoma Rift"===e){var a=n.QuestRiftFuroma.droid.charge_level;""!==a&&(r.battery={charge_level_one:1,charge_level_two:2,charge_level_three:3,charge_level_four:4,charge_level_five:5,charge_level_six:6,charge_level_seven:7,charge_level_eight:8,charge_level_nine:9,charge_level_ten:10}[a])}else if("Labyrinth"===e)"active"===n.QuestLabyrinth.lantern_status&&(r.oil="On");else if("Fort Rox"===e){var i=n.QuestFortRox.fort;r.ballistaLevel=i.b.level,r.cannonLevel=i.c.level}else"Zugzwang's Tower"===e?r.amplifier=user.viewing_atts.zzt_amplifier:"Sand Crypts"===e&&(r.saltLevel=n.QuestSandDunes.minigame.salt_charms_used)}(t,a),s&&(e(s,"Empowered")&&(s=s.slice(6,s.length),a.empowered="Yes"),s.indexOf("SUPER|brie+")>=0?s="SB+":s.indexOf(" Cheese")>=0?e(s,"Gauntlet")&&"Gauntlet String Cheese"!==s?u=s=s.slice(16,s.length):s=s.slice(0,s.indexOf(" Cheese")):"Fusion Fondue"===s&&(a.location="M400 Hunting"),a.cheese=s),"N/A"!==u&&(a.phase=u),a.base.indexOf("Denture Base")>-1){var o=document.querySelector(".mousehuntHud-userStat.trap.base > .icon");o&&o.getAttribute("style").indexOf("vteeth")<=0&&(a.base+=" (Toothless)")}"Prestige Base"===a.base&&document.querySelectorAll(".campPage-trap-trapStat-mathRow-name").forEach(e=>{e.textContent.indexOf("(Highest Umbra Floor")>=0&&(a.umbraFloor=+e.textContent.split("(Highest Umbra Floor: ")[1].split(")")[0])}),a.weapon.indexOf("Golem Guardian")>=0&&(a.weapon="Golem Guardian "+user.trap_power_type_name+" Trap"),a.weapon.indexOf("Golem Guardian")>=0?$.post("https://www.mousehuntgame.com/managers/ajax/users/gettrapcomponents.php",{hg_is_ajax:1,uh:user.unique_hash},null,"json").done(function(e){if(e.components){var r=e.components.filter(function(e){return"snow_golem_trap_weapon"===e.component_type}),t=[0,0,0,0,0];for(var n of r)switch(n.power_type_name){case"Arcane":t[0]=n.golem_guardian_charge_percentage||0;break;case"Forgotten":t[1]=n.golem_guardian_charge_percentage||0;break;case"Hydro":t[2]=n.golem_guardian_charge_percentage||0;break;case"Physical":t[3]=n.golem_guardian_charge_percentage||0;break;case"Tactical":t[4]=n.golem_guardian_charge_percentage||0}a.golem_charge=t,l(a)}}):l(a)}else alert("User object not found.");function l(e){var r="https://tsitu.github.io/MH-Tools/cre.html?";for(var t in e){var n=encodeURIComponent(e[t]);"golem_charge"===t&&(n="%5B"+n+"%5D"),r+=t+"="+n+"&"}window.open("","mhcre").location=r}}();